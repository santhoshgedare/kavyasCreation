# ?? Quick Reference: Company & User Creation

## ?? The Complete Flow

```
???????????????????????????????????????????????????????????????
?                    USER SELF-REGISTERS                      ?
?                                                             ?
?  Vendor: /Identity/Account/RegisterVendor                  ?
?  Buyer:  /Identity/Account/RegisterBuyer                   ?
?                                                             ?
?  Creates 3 records:                                        ?
?    1. IdentityUser (login credentials)                    ?
?    2. Vendor/BuyerCompany (company info)                  ?
?    3. VendorUser/BuyerUser (links user to company)        ?
?                                                             ?
?  Status: ? PENDING APPROVAL                               ?
???????????????????????????????????????????????????????????????
                            ?
???????????????????????????????????????????????????????????????
?                     ADMIN REVIEWS & APPROVES                ?
?                                                             ?
?  Vendors: /Admin/Vendors/Pending  ?                       ?
?  Buyers:  /Admin/Buyers/Pending   ?                       ?
?                                                             ?
?  Admin clicks:                                             ?
?    • ? Approve ? Activates company & users                ?
?    • ? Reject ? Soft deletes company & users              ?
?                                                             ?
?  Status: ? ACTIVE                                         ?
???????????????????????????????????????????????????????????????
                            ?
???????????????????????????????????????????????????????????????
?              COMPANY ADMIN ADDS MORE USERS                  ?
?                                                             ?
?  Vendors: /Vendor/Users/Create  ?                         ?
?  Buyers:  /Buyer/Users/Create   ?? TODO                    ?
?                                                             ?
?  Can add:                                                  ?
?    • Admins (full permissions)                            ?
?    • Regular users (limited permissions)                  ?
?                                                             ?
?  Status: ? IMMEDIATELY ACTIVE (no approval needed)        ?
???????????????????????????????????????????????????????????????
```

---

## ??? Database Tables

```
???????????????????
?  AspNetUsers    ? ? Login credentials (shared)
?  - Id           ?
?  - Email        ?
?  - Password     ?
???????????????????
         ?
    ??????????????????????????????
    ?         ?                  ?
??????????  ?????????????  ????????????
?Vendor  ?  ?BuyerUser  ?  ?Admin     ?
?User    ?  ?           ?  ?          ?
?        ?  ?           ?  ?          ?
?VendorId?  ?BuyerCo.Id ?  ?          ?
??????????  ?????????????  ????????????
    ?             ?
??????????  ??????????????
?Vendor  ?  ?BuyerCompany?
?(Co.)   ?  ?            ?
??????????  ??????????????
```

---

## ?? What You Can Do RIGHT NOW

### ? Create a Vendor Company:
```bash
1. Navigate: https://localhost:7086/Identity/Account/RegisterVendor
2. Fill form:
   - Company: "Test Vendor Inc"
   - Admin Email: admin@testvendor.com
   - Password: Test123!
3. Submit
4. Login as admin@local
5. Approve at: /Admin/Vendors/Pending
6. Logout
7. Login as admin@testvendor.com
8. Go to: Vendor ? Team Members ? Add New User
9. Add employees!
```

### ? Create a Buyer Company:
```bash
1. Navigate: https://localhost:7086/Identity/Account/RegisterBuyer
2. Fill form:
   - Company: "Test Buyer Corp"
   - Admin Email: admin@testbuyer.com
   - Password: Test123!
3. Submit
4. Admin approves at: /Admin/Buyers/Pending
5. Buyer logs in
6. TODO: Create /Buyer/Users pages (copy from Vendor)
```

---

## ?? URL Cheat Sheet

### Registration:
- **Vendor:** `/Identity/Account/RegisterVendor`
- **Buyer:** `/Identity/Account/RegisterBuyer`

### Admin Approval:
- **Vendors:** `/Admin/Vendors/Pending` ?
- **Buyers:** `/Admin/Buyers/Pending` ?

### User Management:
- **Vendor Users List:** `/Vendor/Users/Index` ?
- **Add Vendor User:** `/Vendor/Users/Create` ?
- **Buyer Users List:** `/Buyer/Users/Index` ?? TODO
- **Add Buyer User:** `/Buyer/Users/Create` ?? TODO

### Dashboards:
- **Vendor:** `/Vendor/Dashboard` ?
- **Buyer:** `/Buyer/Dashboard` ?? TODO

---

## ?? Default Logins

```yaml
Admin:
  Email: admin@local
  Password: Admin123! (check User Secrets)
  Role: Admin

After Registration:
  Vendor Admin:
    Email: (what you entered)
    Password: (what you set)
    Role: VendorAdmin
  
  Buyer Admin:
    Email: (what you entered)
    Password: (what you set)
    Role: BuyerAdmin
```

---

## ? Quick Commands

```bash
# Run project
dotnet run --project Web/Web.csproj --launch-profile https

# Build
dotnet build

# Access
https://localhost:7086
```

---

## ?? Feature Status

| Feature | Vendor | Buyer | Status |
|---------|--------|-------|--------|
| Self-Registration | ? | ? | Complete |
| Admin Approval | ? | ? | Complete |
| User Management | ? | ?? | Vendor done, Buyer TODO |
| Dashboard | ? | ?? | Vendor done, Buyer TODO |
| Navigation Menu | ? | ? | Complete |

---

## ?? You're Ready!

Run the project and test:
1. Register a vendor company
2. Approve it as admin
3. Login as vendor
4. Add team members
5. Test with multiple users

**See `HOW_TO_CREATE_COMPANIES_AND_USERS.md` for detailed instructions!**
